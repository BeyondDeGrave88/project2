# План тестирования формы оплаты тура

## 1. Перечень автоматизируемых сценариев
### 1. Позитивные сценарии оплаты/кредита
**Сценарий 1:** Успешная оплата по APPROVED карте (форма "Обычная оплата")

### Шаги:
- Открыть http://localhost:8080

- Кликнуть "Купить"

- Заполнить: карта 1111 2222 3333 4444, месяц 12, год 26, владелец IVAN IVANOV, CVC 123

- Кликнуть "Продолжить"

**Ожидаемый результат:** Сообщение "Успешно! Операция одобрена Банком." В БД создается запись со статусом APPROVED.

---

**Сценарий 2:** Успешное оформление кредита по APPROVED карте (форма "Кредит")

### Шаги:
- Открыть http://localhost:8080

- Кликнуть "Купить в кредит"

- Заполнить: карта 1111 2222 3333 4444, месяц 12, год 26, владелец IVAN IVANOV, CVC 123

- Кликнуть "Продолжить"
  
**Ожидаемый результат:** Сообщение "Успешно! Операция одобрена Банком." В БД создается запись со статусом APPROVED.

---
**Сценарий 3:** Отклоненная операция по DECLINED карте

### Шаги:
- Открыть http://localhost:8080

- Кликнуть "Купить"

- Заполнить: карта 5555 6666 7777 8888, месяц 12, год 26, владелец IVAN IVANOV, CVC 123

- Кликнуть "Продолжить"
  
**Ожидаемый результат:** Сообщение "Ошибка! Банк отказал в проведении операции." В БД создается запись со статусом DECLINED.

---
### 2. Негативные сценарии (для формы "Обычная оплата")
**Сценарий 4:** Отправка формы с несуществующим номером карты

### Шаги:
- Открыть http://localhost:8080

- Кликнуть "Купить"

- Заполнить: карта 0000 0000 0000 0000, месяц 12, год 26, владелец IVAN IVANOV, CVC 123

- Кликнуть "Продолжить"

**Ожидаемый результат:** Сообщение "Ошибка! Банк отказал в проведении операции.", форма не отправляется.

---
**Сценарий 5:** Отправка формы с неполным номером карты

### Шаги:
- Открыть http://localhost:8080

- Кликнуть "Купить"

- Заполнить: карта 1111 2222 3333, месяц 12, год 26, владелец IVAN IVANOV, CVC 123

- Кликнуть "Продолжить"

**Ожидаемый результат:** Под полем "Номер карты" сообщение "Неверный формат", форма не отправляется.

---
**Сценарий 6:** Отправка формы с несуществующим месяцем

### Шаги:
- Открыть http://localhost:8080

- Кликнуть "Купить"

- Заполнить: карта 1111 2222 3333 4444, месяц 13, год 26, владелец IVAN IVANOV, CVC 123

- Кликнуть "Продолжить"

**Ожидаемый результат:** Под полем "Месяц" сообщение "Неверно указан срок действия карты", форма не отправляется.

---
**Сценарий 7:** Отправка формы с истекшим месяцем

### Шаги:
- Открыть http://localhost:8080

- Кликнуть "Купить"

- Заполнить: карта 1111 2222 3333 4444, месяц 09, год 25, владелец IVAN IVANOV, CVC 123

- Кликнуть "Продолжить"

**Ожидаемый результат:** Под полем "Месяц" сообщение "Истёк срок действия карты", форма не отправляется.

---
**Сценарий 8:** Отправка формы с истекшим годом

### Шаги:
- Открыть http://localhost:8080

- Кликнуть "Купить"

- Заполнить: карта 1111 2222 3333 4444, месяц 10, год 24, владелец IVAN IVANOV, CVC 123

- Кликнуть "Продолжить"

**Ожидаемый результат:** Под полем "Год" сообщение "Истёк срок действия карты", форма не отправляется.

---
**Сценарий 9:** Отправка формы с именем владельца на кириллице

### Шаги:
- Открыть http://localhost:8080

- Кликнуть "Купить"

- Заполнить: карта 1111 2222 3333 4444, месяц 12, год 26, владелец ИВАН ИВАНОВ, CVC 123

- Кликнуть "Продолжить"

**Ожидаемый результат:** Под полем "Владелец" сообщение "Неверный формат", форма не отправляется.

---
**Сценарий 10:** Отправка формы с CVC/CVV из 2 цифр

### Шаги:
- Открыть http://localhost:8080

- Кликнуть "Купить"

- Заполнить: карта 1111 2222 3333 4444, месяц 12, год 26, владелец IVAN IVANOV, CVC 12

- Кликнуть "Продолжить"

**Ожидаемый результат:** Под полем "CVC/CVV" сообщение "Неверный формат", форма не отправляется.

---
**Сценарий 11:** Отправка формы с CVC/CVV из 4 цифр

### Шаги:
- Открыть http://localhost:8080

- Кликнуть "Купить"

- Заполнить: карта 1111 2222 3333 4444, месяц 12, год 26, владелец IVAN IVANOV, CVC 1234

- Кликнуть "Продолжить"

**Ожидаемый результат:** Поле не позволяет ввести больше 3х цифр, форма не отправляется.

---
**Сценарий 12:** Отправка формы с пустым полем "Владелец"

### Шаги:
- Открыть http://localhost:8080

- Кликнуть "Купить"

- Оставить поле "Владелец" пустым, карта 1111 2222 3333 4444, месяц 12, год 26, CVC 123

- Кликнуть "Продолжить"

**Ожидаемый результат:** Под полем "Владелец" сообщение "Поле обязательно для заполнения", форма не отправляется.

---
**Сценарий 13:** Отправка полностью пустой формы

### Шаги:
- Открыть http://localhost:8080

- Кликнуть "Купить"

- Оставить все поля пустыми

- Кликнуть "Продолжить"

**Ожидаемый результат:** Под всеми полями сообщения об ошибках "Поле обязательно для заполнения", форма не отправляется.

---
**Сценарий 14:** Отправка формы с пустым полем "Номер карты"

### Шаги:
- Открыть http://localhost:8080

- Кликнуть "Купить"

- Оставить поле "Номер карты" пустым, месяц 12, год 26, владелец IVAN IVANOV, CVC 123

- Кликнуть "Продолжить"

**Ожидаемый результат:** Под полем "Номер карты" сообщение "Поле обязательно для заполнения", форма не отправляется.

---
**Сценарий 15:** Отправка формы с пустым полем "Месяц"

### Шаги:
- Открыть http://localhost:8080

- Кликнуть "Купить"

- Оставить поле "Месяц" пустым, карта 1111 2222 3333 4444, год 26, владелец IVAN IVANOV, CVC 123

- Кликнуть "Продолжить"

**Ожидаемый результат:** Под полем "Номер карты" сообщение "Поле обязательно для заполнения", форма не отправляется.

---
**Сценарий 16:** Отправка формы с пустым полем "Год"

### Шаги:
- Открыть http://localhost:8080

- Кликнуть "Купить"

- Оставить поле "Год" пустым, карта 1111 2222 3333 4444, месяц 12, владелец IVAN IVANOV, CVC 123

- Кликнуть "Продолжить"

**Ожидаемый результат:** Под полем "Год" сообщение "Поле обязательно для заполнения", форма не отправляется.

---
**Сценарий 17:** Отправка формы с пустым полем "CVC/CVV"

### Шаги:
- Открыть http://localhost:8080

- Кликнуть "Купить"

- Оставить поле "CVC/CVV" пустым, карта 1111 2222 3333 4444, год 26, месяц 12, владелец IVAN IVANOV

- Кликнуть "Продолжить"

**Ожидаемый результат:** Под полем "CVC/CVV" сообщение "Поле обязательно для заполнения", форма не отправляется.

---

## 2. Перечень используемых инструментов с обоснованием выбора
### 2.1. Язык программирования

**Java 11** - стабильная версия, хорошая поддержка библиотек для тестирования.

**Обоснование:** Широкая поддержка в сообществе, множество библиотек для автоматизации.

---
### 2.2. Фреймворк для автоматизации

**Selenide** - для автоматизации веб-браузера и тестов.

**Обоснование:** Стандарт для автоматизации веб-приложений, кроссплатформенность.

---
### 2.3. Фреймворк для тестирования

**JUnit 5** - для организации тестов.

**Обоснование:** Современный фреймворк, хорошая интеграция.

---
### 2.4. Система сборки

**Gradle** - для управления зависимостями и сборки проекта.

**Обоснование:** Гибкость, производительность.

---
### 2.5. Дополнительные библиотеки

**Faker** - для генерации тестовых данных.

**Обоснование:** Позволяет генерировать большие объемы разнообразных тестовых данных без ручного ввода. Снижает время на подготовку данных для каждого теста.

**Allure** - для создания отчетов о тестировании.

**Обоснование:** Генерирует интуитивно понятные HTML-отчеты. Позволяет быстро анализировать результаты тестирования.


**Lombok** - для упрощения работы с кодом

**Обоснование:** Автоматическая генерация геттеров, сеттеров, конструкторов. Уменьшение объема кода и повышение читаемости.

---
### 2.6. Система контоля версий

**Git** - для контроля версий тестового кода.

**GitHub** - для хостинга репозитория и CI/CD.

**Обоснование:** Стандарт индустрии, интеграция с CI/CD, code review.

---
### 2.7. CI

**GitHub Actions** - для сборки проекта и запуска автоматического тестирования.

**Обоснование:** Широкая распространенность, гибкость настройк, прямая интеграция с GitHub.

---
### 2.8. База данных и инструменты работы с БД

**MySQL** - система управления базами данных для проверки записей.

**Обоснование:** популярная СУБД с хорошей интеграцией с Java


**DBeaver** - универсальный клиент для работы с базами данных.

**Обоснование:** бесплатный кроссплатформенный инструмент с поддержкой различных СУБД. Позволяет проверять корректность сохранения данных после отправки формы.

---
### 2.9. Среда разработки

**IntelliJ IDEA** - интегрированная среда разработки

**Обоснование:** Лидер в разработке на Java, богатый набор плагинов для автоматизации тестирования

---
## 3. Перечень и описание возможных рисков при автоматизации
**Изменение UI/UX:** Любое изменение в вёрстке (id, css-селекторов) полей формы приведет к падению Selenium/Selenide тестов и необходимости их переписывания.

**Отсутствие уникальных тестовых атрибутов:** Если в разметке нет data-test-id или других стабильных селекторов, тесты будут ненадежными.

**Сложность с проверкой данных в БД:** Необходимость настройки подключения к БД, знание схемы таблиц. Изменение структуры БД сломает проверки.

**Проблемы с логами:** Логи банковского сервиса могут быть зашумлены запросами других студентов, что усложняет анализ.

**Оценка времени:** Непредвиденные технические сложности и количество багов могут значительно увеличить сроки.

---
## 4. Интервальная оценка с учётом рисков в часах

### Настройка окружения: 16-24 часа.

- Создание проекта, настройка Gradle, Selenide, JUnit, Allure.

- Написание Page Object Model для двух форм.

- Настройка контейнеризации БД через Docker.

### Написание автоматизированных сценариев: 24-32 часа.

- Позитивные сценарии (2 формы).

- Негативные сценарии для одной выбранной формы.

- Написание SQL-запросов для проверки данных в БД.

### Подготовка отчётности и отладка: 8-16 часов.

- Настройка Allure-отчетов.

- Анализ и оформление выявленных дефектов в Issues GitHub.

- Написание итогового отчета по автоматизации.

### Резерв на риски (20%): ~10-15 часов.

# Итого интервальная оценка: 58 - 87 часов.

---
## 5. План сдачи работ: когда будут проведены автотесты, результаты их проведения и отчёт по автоматизации
**1. До 27.10:** Сдача данного плана (Plan.md) в репозиторий.

**2. 27.10: - 5.11:**

- Написание кода автотестов.

- Прогон тестов, выявление и оформление дефектов, если обнаружатся.

- Оформление отчетности.

**До 8.11:**
Предоставление ссылки на репозиторий, содержащий:

- Весь код автотестов.

- Plan.md.

- Report.md (Итоговый отчет по автоматизации с результатами прогона, количеством найденных багов, указанием использованных инструментов и рекомендациями).

- Открытые Issues с багами.

- Allure-отчет.
